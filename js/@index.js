/**********************************************************************
 require( 'require' )
 -----------------------------------------------------------------------
 @example

 var Path = require("node://path");  // Only in NodeJS/NW.js environment.
 var Button = require("tfw.button");

 **********************************************************************/

var require = function() {
    var modules = {};
    var definitions = {};
    var nodejs_require = typeof window.require === 'function' ? window.require : null;

    var f = function(id, body) {
        if( id.substr( 0, 7 ) == 'node://' ) {
            // Calling for a NodeJS module.
            if( !nodejs_require ) {
                throw Error( "[require] NodeJS is not available to load module `" + id + "`!" );
            }
            return nodejs_require( id.substr( 7 ) );
        }

        if( typeof body === 'function' ) {
            definitions[id] = body;
            return;
        }
        var mod;
        body = definitions[id];
        if (typeof body === 'undefined') {
            var err = new Error("Required module is missing: " + id);   
            console.error(err.stack);
            throw err;
        }
        mod = modules[id];
        if (typeof mod === 'undefined') {
            mod = {exports: {}};
            var exports = mod.exports;
            body(exports, mod);
            modules[id] = mod.exports;
            mod = mod.exports;
            //console.log("Module initialized: " + id);
        }
        return mod;
    };
    return f;
}();
function addListener(e,l) {
    if (window.addEventListener) {
        window.addEventListener(e,l,false);
    } else {
        window.attachEvent('on' + e, l);
    }
};

addListener(
    'DOMContentLoaded',
    function() {
        document.body.parentNode.$data = {};
        // Attach controllers.
        APP = require('app');
setTimeout(function (){if(typeof APP.start==='function')APP.start()});

    }
);
require("$",function(n,e){n.config={name:"planning-basket",description:"Planning pour emener les enfants au basket en minimisant le nombre de voitures.",author:"tolokoban",version:"0.0.4",major:0,minor:0,revision:4,date:new Date(2016,11,16,17,49,40)};var a=null;n.lang=function(n){return void 0===n&&(window.localStorage&&(n=window.localStorage.getItem("Language")),n||(n=window.navigator.language,n||(n=window.navigator.browserLanguage,n||(n="fr"))),n=n.substr(0,2).toLowerCase()),a=n,window.localStorage&&window.localStorage.setItem("Language",n),n},n.intl=function(e,a){var r,t,o,i,g,l,u=e[n.lang()],s=a[0];if(!u)return s;if(r=u[s],!r)return s;if(a.length>1){for(t="",g=0,o=0;o<r.length;o++)i=r.charAt(o),"$"===i?(t+=r.substring(g,o),o++,l=r.charCodeAt(o)-48,t+=l<0||l>=a.length?"$"+r.charAt(o):a[l],g=o+1):"\\"===i&&(t+=r.substring(g,o),o++,t+=r.charAt(o),g=o+1);t+=r.substr(g),r=t}return r}});
//# sourceMappingURL=$.js.map
require("app",function(r,n){function t(){return s(c,arguments)}function e(r){var n,t,e=v.div(),i=!0;for(n in r)t=r[n],i?i=!1:v.add(e,v.tag("span",[", "])),v.add(e,v.tag("span",[n]),v.tag("span","grey",[" ("+t+")"]));return e}function i(r){var n,t;for(n in r)t=r[n],g.scores[n]=(g.scores[n]||0)+t}function a(r){return r=""+r,r.substr(0,2)+" / "+r.substr(2,2)+" / "+r.substr(4)}function u(r){var n,t=[];for(n in r)t.push(n);return t}function d(r,n,t){var e=null,i=9999999999;return r.forEach(function(r){if(!o(u(r),n,t)){var a=f(r);a<i&&(i=a,e=r)}}),e}function o(r,n,t){for(var e,i,a,u=0;u<r.length;u++)if(e=r[u],i=g.restrictions[e],"undefined"!=typeof i&&(a=i[n],"undefined"!=typeof a&&t!=a))return!0;return!1}function f(r){var n,t=9999999999999;for(n in r)t=Math.min(t,g.scores[n]||0);return t}var c={en:{},fr:{}},s=require("$").intl,v=require("dom"),g=require("config");r.start=function(){var r=document.body,n=v.div("table",[v.div("header",[v.div(["Date"]),v.div(["Aller"]),v.div(["Retour"])])]);v.add(r,n),g.calendar.forEach(function(r){var t,o,f=v.div([v.div([a(r)])]);v.add(n,f),t=d(g.go,r,"G"),o=u(t),v.add(f,e(t)),i(t),t=d(g.back,r,"B"),o=u(t),v.add(f,e(t)),i(t),v.add(f,v.div("debug",[JSON.stringify(g.scores)]))})},n.exports._=t});
//# sourceMappingURL=app.js.map
require("dom",function(e,t){function n(){return A(C,arguments)}function r(e,t,n){return Object.defineProperty(e,"element",{value:t,writable:!1,configurable:!1,enumerable:!0}),n?e:(e.on=u.bind(e,t),e.css=i.bind(e,t),e.add=s.bind(e,t),e.att=a.bind(e,t),e.addClass=d.bind(e,t),e.hasClass=m.bind(e,t),e.removeClass=h.bind(e,t),e.toggleClass=p.bind(e,t),e)}function o(e,t){return e=E(e),t=E(t),t.parentNode.replaceChild(e,t),e}function i(e,t){e=E(e);var n,r;for(n in t)r=t[n],e.style[n]=r;return e}function a(e,t,n){e=E(e);var r,o;"string"==typeof t&&(r=t,t={},t[r]=n);for(r in t)o=t[r],e.setAttribute(r,o);return e}function l(e,t){return e=E(e),e.removeAttribute(t),e}function s(e){e=E(e);try{var t,n;for(t=1;t<arguments.length;t++)n=arguments[t],"string"==typeof n||"number"==typeof n?n=document.createTextNode(n):"function"==typeof n.element?n=n.element():"undefined"!=typeof n.element&&(n=n.element),e.appendChild(n);return e}catch(e){throw console.error("[DOM.add] arguments=",[].slice.call(arguments)),Error("[DOM.add] "+e)}}function c(e){if(Array.isArray(e))return e.forEach(function(e){c(e)}),e;var t=e[N];return"undefined"==typeof t?e:(t.off(),void delete e[N])}function u(e,t){if("function"!=typeof t&&null!==t||(t={tap:t}),Array.isArray(e))return e.forEach(function(e){u(e,t)}),e;"undefined"==typeof e[N]&&(e[N]=new x(e));var n,r,o;for(n in t)r=t[n],"!"==n.charAt(0)?(n=n.substr(1),o=!0):o=!1,"keydown"==n||"keyup"==n?e.addEventListener(n,r,o):e[N].on(n,r,o);return e}function f(e,t){try{var n,r,o,i,a=document.createElementNS(e,t);for(n=2;n<arguments.length;n++)if(r=arguments[n],Array.isArray(r))r.forEach(function(e){switch(typeof e){case"string":case"number":case"boolean":e=document.createTextNode(""+e)}s(a,e)});else switch(typeof r){case"string":r.split(" ").forEach(function(e){e.length>0&&d(a,e)});break;case"object":for(o in r)i=r[o],a.setAttribute(o,i);break;default:throw Error("[dom.tag] Error creating <"+t+">: Invalid argument #"+n+"!")}return a}catch(n){console.error("[dom.tagNS] Error with `ns` = ",e," and `name` = ",t),console.error(n)}}function d(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,d.apply(void 0,t)}),e):(e=E(e),t.forEach(function(t){if("string"==typeof t&&(t=t.trim(),0!=t.length))try{e.classList.add(t)}catch(e){console.error("[dom.addClass] Invalid class name: ",t),console.error(e)}}),e)}function m(e,t){return e=E(e),e.classList.contains(t)}function h(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,h.apply(void 0,t)}),e):(e=E(e),t.forEach(function(t){if("string"==typeof t)try{e.classList.remove(t)}catch(e){console.error("[dom.removeClass] Invalid class name: ",t),console.error(e)}}),e)}function p(e){var t=[].slice.call(arguments,1);return t.forEach(function(t){m(e,t)?h(e,t):d(e,t)}),e}function v(e){e=E(e);for(var t=e;t.firstChild;)t.removeChild(t.firstChild);var n=[].slice.call(arguments);return n.length>1&&s.apply(this,n),e}function w(e,t){return e=E(e),"undefined"==typeof t&&(t=e,e=window.document),e.querySelector(t)}function g(e){e=E(e);var t=e.parentElement;return t?(t.removeChild(e),t):t}function y(t){var n=[].slice.call(arguments);n.shift(),0==n.length&&(n=["div"]),n.push("dom","custom");var r;return"undefined"!=typeof n[0].element?(r=n[0].element,d(r,"dom","custom")):"function"==typeof n[0].appendChild?(r=n[0],d(r,"dom","custom")):r=e.tag.apply(e,n),Object.defineProperty(t,"element",{value:r,writable:!1,configurable:!1,enumerable:!0}),r}function b(e,t){return"undefined"==typeof t&&(t=""),null===t&&(t=""),"string"!=typeof t&&(t=JSON.stringify(t)),"<html>"==t.substr(0,6)?e.innerHTML=t.substr(6):e.textContent=t,e}function E(e){if("string"==typeof e){var t=document.getElementById(e);if(!t)throw Error("There is no DOM element with this ID: `"+e+"`");return t}if(!e)throw Error("`dom` is not a valid element!",e);return"function"==typeof e.element?e.element():e.element?e.element:e}var C={en:{}},A=require("$").intl;require("polyfill.classList");var x=require("tfw.pointer-events"),N="dom"+Date.now();e.tagNS=f,e.svgRoot=f.bind(void 0,"http://www.w3.org/2000/svg","svg",{version:"1.1","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),e.svg=f.bind(void 0,"http://www.w3.org/2000/svg"),e.tag=f.bind(void 0,"http://www.w3.org/1999/xhtml"),e.div=f.bind(void 0,"http://www.w3.org/1999/xhtml","div"),e.txt=window.document.createTextNode.bind(window.document),e.textOrHtml=b,e.get=w,e.elem=y,e.css=i,e.att=a,e.removeAtt=l,e.addClass=d,e.hasClass=m,e.removeClass=h,e.toggleClass=p,e.replace=o,e.detach=g,e.on=u,e.off=c,e.add=s,e.wrap=r,e.clear=v,t.exports._=n});
//# sourceMappingURL=dom.js.map
require("tfw.pointer-events",function(t,e){function o(){return i(r,arguments)}function n(t){var e=this;this._slots={},this._eventListeners=[],Object.defineProperty(n.prototype,"element",{value:t,writable:!1,configurable:!0,enumerable:!0}),a.call(e,t,"touchstart",function(o){l.touchDevice=!0;var n=e._slots;1==o.touches.length&&(l.rect=t.getBoundingClientRect(),l.bodyMoveX=o.touches[0].clientX,l.bodyMoveY=o.touches[0].clientY,l.bodyDownX=o.touches[0].clientX,l.bodyDownY=o.touches[0].clientY,l.targetX=o.touches[0].clientX-l.rect.left,l.targetY=o.touches[0].clientY-l.rect.top,l.time=Date.now(),n.down&&n.down({action:"down",target:t,x:l.targetX,y:l.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)}))}),a.call(e,t,"touchmove",function(o){var n=l.bodyMoveX,a=l.bodyMoveY;l.bodyMoveX=o.touches[0].clientX,l.bodyMoveY=o.touches[0].clientY;var r=e._slots;r.drag&&r.drag({action:"drag",target:t,x0:l.targetX,y0:l.targetY,x:l.bodyMoveX-l.rect.left,y:l.bodyMoveY-l.rect.top,dx:l.bodyMoveX-l.bodyDownX,dy:l.bodyMoveY-l.bodyDownY,vx:l.bodyMoveX-n,vy:l.bodyMoveY-a,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}),a.call(e,t,"touchend",function(t){var o=e._slots,n=l.bodyMoveX-l.bodyDownX,a=l.bodyMoveY-l.bodyDownY;if(o.up&&o.up({action:"up",target:e.element,x:l.bodyMoveX-l.rect.left,y:l.bodyMoveY-l.rect.top,dx:n,dy:a,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}),n*n+a*a<256){var r=Date.now();l.lastTapTime>0&&(o.doubletap&&r-l.lastTapTime<400?o.doubletap({action:"doubletap",target:e.element,x:l.bodyMoveX-l.rect.left,y:l.bodyMoveY-l.rect.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)}):l.lastTapTime=0),o.tap&&0==l.lastTapTime&&(t.stopPropagation(),t.preventDefault(),o.tap({action:"tap",target:e.element,x:l.bodyMoveX-l.rect.left,y:l.bodyMoveY-l.rect.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)})),l.lastTapTime=r}}),a.call(e,t,"mousedown",function(o){if(!l.touchDevice){var n=e._slots,a=t.getBoundingClientRect();l.target=e,l.targetX=o.clientX-a.left,l.targetY=o.clientY-a.top,n.down&&n.down({action:"down",target:t,x:l.targetX,y:l.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}}),a.call(e,t,"mousemove",function(o){var n=e._slots;if(n.move){var a=t.getBoundingClientRect(),r=o.target.getBoundingClientRect();n.move({target:t,action:"move",x:o.offsetX+r.left-a.left,y:o.offsetY+r.top-a.top})}}),Object.defineProperty(this,"element",{value:t,writable:!0,configurable:!0,enumerable:!0})}function a(t,e,o,n){t.addEventListener(e,o,n),this._eventListeners.push([t,e,o,n])}var r={en:{}},i=require("$").intl,d="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",l={touchDevice:!1,target:null,targetX:0,targetY:0,bodyDownX:0,bodyDownY:0,bodyMoveX:-1,bodyMoveY:-1,bodyMoveLastX:-1,bodyMoveLastY:-1,onDrag:null,lastTapTime:0};document.body.addEventListener("mousedown",function(t){l.touchDevice||(l.bodyDownX=t.clientX,l.bodyDownY=t.clientY,l.bodyMoveX=t.clientX,l.bodyMoveY=t.clientY,l.bodyMoveLastX=t.clientX,l.bodyMoveLastY=t.clientY)},!0),document.body.addEventListener("mousemove",function(t){if(!l.touchDevice){l.bodyMoveLastX=l.bodyMoveX,l.bodyMoveLastY=l.bodyMoveY;var e=t.target.getBoundingClientRect();if(l.bodyMoveX=t.offsetX+e.left,l.bodyMoveY=t.offsetY+e.top,l.target){var o=l.target._slots;"function"==typeof o.drag&&o.drag({action:"drag",target:l.target.element,x0:l.targetX,y0:l.targetY,x:l.targetX+l.bodyMoveX-l.bodyDownX,y:l.targetY+l.bodyMoveY-l.bodyDownY,dx:l.bodyMoveX-l.bodyDownX,dy:l.bodyMoveY-l.bodyDownY,vx:l.bodyMoveX-l.bodyMoveLastX,vy:l.bodyMoveY-l.bodyMoveLastY})}}},!0),document.body.addEventListener("mouseup",function(t){if(!l.touchDevice&&l.target){t.stopPropagation(),t.preventDefault();var e=Date.now(),o=l.target._slots,n=l.bodyMoveX-l.bodyDownX,a=l.bodyMoveY-l.bodyDownY;o.up&&o.up({action:"up",target:l.target.element,x:l.targetX+n,y:l.targetY+a,dx:n,dy:a}),n*n+a*a<256&&(l.lastTapTime>0&&(o.doubletap&&e-l.lastTapTime<400?o.doubletap({action:"doubletap",target:l.target.element,x:l.targetX+n,y:l.targetY+a}):l.lastTapTime=0),o.tap&&0==l.lastTapTime&&o.tap({action:"tap",target:l.target.element,x:l.targetX+n,y:l.targetY+a}),l.lastTapTime=e),delete l.target}},!0),n.prototype.on=function(t,e){var o=this,n=this._slots;return"function"==typeof e&&(n[t]=e),"wheel"==t&&a.call(o,this.element,d,function(t){var e=o.element.getBoundingClientRect();n.wheel({target:o.element,action:"wheel",delta:t.deltaY,x:t.clientX-e.left,y:t.clientY-e.top,stopPropagation:t.stopPropagation.bind(t),preventDefault:t.preventDefault.bind(t)})}),this},n.prototype.off=function(){this._eventListeners.forEach(function(t){var e=t[0],o=t[1],n=t[2],a=t[3];e.removeEventListener(o,n,a)})},e.exports=n,e.exports._=o});
//# sourceMappingURL=tfw.pointer-events.js.map
require("polyfill.classList",function(t,e){function n(){return s(i,arguments)}var i={en:{}},s=require("$").intl;"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;i<s;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],f=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",a(this,t)!==-1},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",a(this,t)===-1&&(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);e!==-1;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.toString=function(){return this.join(" ")},s.defineProperty){var h={get:f,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,h)}catch(t){t.number===-2146823252&&(h.enumerable=!1,s.defineProperty(i,e,h))}}else s[n].__defineGetter__&&i.__defineGetter__(e,f)}}(self)),e.exports._=n});
//# sourceMappingURL=polyfill.classList.js.map
require("config",function(e,n){function r(){return o(t,arguments)}var t={en:{},fr:{}},o=require("$").intl;n.exports={calendar:["16122016","06012017","13012017","20012017","27012017","03022017","10022017","17022017","10032017"],go:[{Agathe:5},{Alois:5},{Hortense:5},{Valentin:5}],back:[{Anna:4,Alois:1},{Hortense:5},{Valentin:5}],restrictions:{Alois:{30092016:""},Hortense:{16122016:"B","06012017":"B",13012017:"B",20012017:"B",27012017:"B","03022017":"B",10022017:"B",17022017:"B",10032017:"B"}},scores:{Hortense:0,Valentin:10}},n.exports._=r});
//# sourceMappingURL=config.js.map
