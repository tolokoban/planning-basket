require("app",function(r,n,t){function i(r){var n,t,i=s.div(),a=!0;for(n in r)t=r[n],a?a=!1:s.add(i,s.tag("span",[", "])),s.add(i,s.tag("span",[n]),s.tag("span","grey",[" ("+t+")"]));return i}function a(r){var n,t;for(n in r)t=r[n],v.scores[n]=(v.scores[n]||0)+t}function o(r){return r=""+r,r.substr(0,2)+" / "+r.substr(2,2)+" / "+r.substr(4)}function u(r){var n,t=[];for(n in r)t.push(n);return t}function d(r,n,t){var i=r.obligations[n];if(i&&(i=i[t]))return i;var a=r["G"==t?"go":"back"],o=null,d=9999999999;return a.forEach(function(r){if(!e(u(r),n,t)){var i=f(r);i<d&&(d=i,o=r)}}),o}function e(r,n,t){for(var i,a,o,u=0;u<r.length;u++)if(i=r[u],void 0!==(a=v.restrictions[i])&&void 0!==(o=a[n])&&t!=o)return!0;return!1}function f(r){var n,t=9999999999999;for(n in r)t=Math.min(t,v.scores[n]||0);return t}var c=function(){function n(){return i(t,arguments)}var t={en:{},fr:{}},i=r("$").intl;return n.all=t,n}(),s=r("dom"),v=r("config");t.start=function(){var r=document.body,n=s.div("table",[s.div("header",[s.div(["Date"]),s.div(["Aller"]),s.div(["Retour"])])]);s.add(r,n),v.calendar.forEach(function(r){var t,e=s.div([s.div([o(r)])]);s.add(n,e),t=d(v,r,"G"),u(t),s.add(e,i(t)),a(t),t=d(v,r,"B"),u(t),s.add(e,i(t)),a(t),s.add(e,s.div("debug",[JSON.stringify(v.scores)]))})},n.exports._=c});
//# sourceMappingURL=app.js.map